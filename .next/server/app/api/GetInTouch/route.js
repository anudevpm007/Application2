"use strict";(()=>{var e={};e.id=968,e.ids=[968],e.modules={10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{e.exports=require("buffer")},55511:e=>{e.exports=require("crypto")},94735:e=>{e.exports=require("events")},29021:e=>{e.exports=require("fs")},91645:e=>{e.exports=require("net")},21820:e=>{e.exports=require("os")},33873:e=>{e.exports=require("path")},19771:e=>{e.exports=require("process")},27910:e=>{e.exports=require("stream")},41204:e=>{e.exports=require("string_decoder")},66136:e=>{e.exports=require("timers")},34631:e=>{e.exports=require("tls")},79551:e=>{e.exports=require("url")},28354:e=>{e.exports=require("util")},74075:e=>{e.exports=require("zlib")},70816:(e,r,t)=>{t.a(e,async(e,o)=>{try{t.r(r),t.d(r,{patchFetch:()=>u,routeModule:()=>l,serverHooks:()=>h,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>d});var s=t(42706),a=t(28203),n=t(45994),i=t(86332),p=e([i]);i=(p.then?(await p)():p)[0];let l=new s.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/GetInTouch/route",pathname:"/api/GetInTouch",filename:"route",bundlePath:"app/api/GetInTouch/route"},resolvedPagePath:"C:\\GitHub\\website\\app\\api\\GetInTouch\\route.js",nextConfigOutput:"",userland:i}),{workAsyncStorage:c,workUnitAsyncStorage:d,serverHooks:h}=l;function u(){return(0,n.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:d})}o()}catch(e){o(e)}})},86332:(e,r,t)=>{t.a(e,async(e,o)=>{try{t.r(r),t.d(r,{POST:()=>u});var s=t(60820),a=t(39187),n=t(64352),i=t(95482);t.n(i)().config();let e=await s.createConnection({host:process.env.DATABASE_HOST,user:process.env.DATABASE_USER,database:process.env.DATABASE_NAME,password:process.env.DATABASE_PASSWORD});var p="";async function u(r){var t=0;try{var o="",s=await r.json();console.log(s);var i=s[1],u=s[2];if(console.log("email: ",i,", phone: ",u),u.length<5||u.length>=15)p="The entered number is wrong",o="P";else if(p="",o="",console.log("Output: ",i.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+[a-zA-Z0-9]+\.[a-zA-Z]{2,}$/)),i.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+[a-zA-Z0-9]+\.[a-zA-Z]{2,}$/)){if(n.A.map((e,r)=>{e===i.split("@")[1]&&(t+=1)}),0===t)try{console.log("Hello world");let[r,t]=await e.query("SELECT Phone, Email FROM registration;");console.log("from Db",r);var l=0,c=0;if(r.map((e,r)=>{e.Email===i&&(l+=1),e.Phone==u&&(c+=1)}),console.log("Phone: ",c,"Email: ",l),0==l&&0==c){console.log(p);try{var d="INSERT INTO `registration` ( `Name`, `Email`, `Phone`, `Company`, `Discreption`) VALUES ( '"+s[0]+"', '"+s[1]+"', '"+s[2]+"', '"+s[3]+"', '"+s[4]+"');";let[r,t]=await e.query(d);console.log(r),p="You are action update",o="C"}catch(e){o="C"}}else 0!==l?0!==c?(p="The entered Phone number and Email are already used",o="EP"):(p="The entered Email is already used",o="E"):0!==c&&(p="The entered Phone number is already used",o="P")}catch(e){console.log(e)}else p="This email is not acceptable",o="E"}else p="The entered Email is wrog",o="E";return a.NextResponse.json({status:p,Alpha:o})}catch(e){return console.log("Error"),a.NextResponse.json({status:404})}}o()}catch(e){o(e)}},1)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,452,673,454],()=>t(70816));module.exports=o})();